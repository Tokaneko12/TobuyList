myApp.services={tasks:{create:function(e){var i=ons.createElement('<ons-list-item tappable category="'+myApp.services.categories.parseId(e.category)+'"><label class="left"><ons-checkbox></ons-checkbox></label><div class="center">'+e.title+'</div><div class="right"><ons-icon style="color: grey; padding-left: 4px" icon="ion-ios-trash-outline, material:md-delete"></ons-icon></div></ons-list-item>');i.data=e,i.data.onCheckboxChange=function(t){myApp.services.animators.swipe(i,function(){var e="pending-list"===i.parentElement.id&&t.target.checked?"#completed-list":"#pending-list";document.querySelector(e).appendChild(i)})},i.addEventListener("change",i.data.onCheckboxChange),i.querySelector(".right").onclick=function(){myApp.services.tasks.remove(i)},i.querySelector(".center").onclick=function(){document.querySelector("#myNavigator").pushPage("html/details_task.html",{animation:"lift",data:{element:i}})},myApp.services.categories.updateAdd(i.data.category),i.data.highlight&&i.classList.add("highlight");var t=document.querySelector("#pending-list");t.insertBefore(i,i.data.urgent?t.firstChild:null)},update:function(e,t){t.title!==e.data.title&&(e.querySelector(".center").innerHTML=t.title),t.category!==e.data.category&&(e.setAttribute("category",myApp.services.categories.parseId(t.category)),myApp.services.categories.updateAdd(t.category),myApp.services.categories.updateRemove(e.data.category)),e.classList[t.highlight?"add":"remove"]("highlight"),e.data=t},remove:function(e){e.removeEventListener("change",e.data.onCheckboxChange),myApp.services.animators.remove(e,function(){e.remove(),myApp.services.categories.updateRemove(e.data.category)})}},categories:{create:function(e){var t=myApp.services.categories.parseId(e),i=ons.createElement('<ons-list-item tappable category-id="'+t+'"><div class="left"><ons-radio name="categoryGroup" input-id="radio-'+t+'"></ons-radio></div><label class="center" for="radio-'+t+'">'+(e||"No category")+"</label></ons-list-item>");myApp.services.categories.bindOnCheckboxChange(i),document.querySelector("#custom-category-list").appendChild(i)},updateAdd:function(e){var t=myApp.services.categories.parseId(e);document.querySelector('#menuPage ons-list-item[category-id="'+t+'"]')||myApp.services.categories.create(e)},updateRemove:function(e){var t=myApp.services.categories.parseId(e);document.querySelector('#tabbarPage ons-list-item[category="'+t+'"]')||myApp.services.categories.remove(document.querySelector('#custom-category-list ons-list-item[category-id="'+t+'"]'))},remove:function(e){e&&(e.removeEventListener("change",e.updateCategoryView),e.remove())},bindOnCheckboxChange:function(e){var i=e.getAttribute("category-id"),r=null===i;e.updateCategoryView=function(){for(var e=document.querySelectorAll("#tabbarPage ons-list-item"),t=0;t<e.length;t++)e[t].style.display=r||e[t].getAttribute("category")===i?"":"none"},e.addEventListener("change",e.updateCategoryView)},parseId:function(e){return e?e.replace(/\s\s+/g," ").toLowerCase():""}},animators:{swipe:function(e,t){var i="pending-list"===e.parentElement.id?"animation-swipe-right":"animation-swipe-left";e.classList.add("hide-children"),e.classList.add(i),setTimeout(function(){e.classList.remove(i),e.classList.remove("hide-children"),t()},950)},remove:function(e,t){e.classList.add("animation-remove"),e.classList.add("hide-children"),setTimeout(function(){t()},750)}},fixtures:[{title:"Download OnsenUI",category:"Programming",description:"Some description.",highlight:!1,urgent:!1},{title:"Install Monaca CLI",category:"Programming",description:"Some description.",highlight:!1,urgent:!1},{title:"Star Onsen UI repo on Github",category:"Super important",description:"Some description.",highlight:!1,urgent:!1},{title:"Register in the community forum",category:"Super important",description:"Some description.",highlight:!1,urgent:!1},{title:"Send donations to Fran and Andreas",category:"Super important",description:"Some description.",highlight:!1,urgent:!1},{title:"Profit",category:"",description:"Some description.",highlight:!1,urgent:!1},{title:"Visit Japan",category:"Travels",description:"Some description.",highlight:!1,urgent:!1},{title:"Enjoy an Onsen with Onsen UI team",category:"Personal",description:"Some description.",highlight:!1,urgent:!1}]};